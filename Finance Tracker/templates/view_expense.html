{% extends "base.html" %}

{% block title %}View all expenses{% endblock %}

{% block content %}
  <h1>List of all expenses</h1>
    <form method="POST" class="p-4 border rounded bg-light shadow-sm">
       
        <div class="mb-3">
              <label for="month">Month:</label>
             <input type="number" name="month" min="1" max="12" required>
        </div>

        <div class="mb-3">
            <label for="year">Year:</label>
            <input type="number" name="year" required>
        </div>

         <button type="submit" class="btn btn-primary">Get Expense list</button>
    </form>


    {% if expenses %}
    <br>
  <h2>Expenses for {{ month }}/{{ year }}</h2>
  <table class="table">
    <thead>
      <tr>
        <th>Date</th>
        <th>Category</th>
        <th>Amount ($)</th>
      </tr>
    </thead>
    <tbody>
      {% for cat, amt, date in expenses %}
        <tr>
          <td>{{ date }}</td>
          <td>{{ cat }}</td>
          <td>{{ amt }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% elif expenses is not none %}
  <p>No expenses found for {{ month }}/{{ year }}.</p>
{% endif %}



    <br>
   <a href="{{ url_for('index') }}" class="btn btn-info">Back to Home</a>

{% endblock %}